  <template>
    <div class="bg-white w-full p-3 border border-gray-50 rounded-lg shadow-lg">
      <div class="bg-[#FB3A82] p-6 rounded-lg mb-4 py-20 flex justify-between items-end relative">
        <h2 class="text-2xl font-semibold text-white max-w-xs">{{challenge?.name ?? 'Nil'}}</h2>
        <div class="absolute bottom-0 right-6">
          <img v-if="challenge.photo.image" :src="challenge?.photo?.image"  alt="Avatar" class="h-20 w-20" />
          <img v-else src="@/assets/img/challenge-creativity.png" alt="Avatar" class="h-20 w-20" />
        </div>
      </div>
      <div class="flex items-center mb-4">
        <h3 class="text-sm font-medium flex-grow">{{challenge?.name ?? 'Nil'}}</h3>
        <button class="bg-green-100 text-green-700  px-2 py-1.5 rounded-lg flex items-center text-xs gap-x-2">{{  challenge?.challengeStatus ?? 'Nil' }} <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M19.9201 8.94922L13.4001 15.4692C12.6301 16.2392 11.3701 16.2392 10.6001 15.4692L4.08008 8.94922" stroke="#1A9882" stroke-width="1.5" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          </button>
      </div>
<div class="flex justify-between items-center" >
  <div class="flex items-center mb-4">
    <div class="flex items-center mr-4">
      <img src="@/assets/img/avatar-list.png" alt="Avatar" class="w-auto h-5" />
    </div>
    <span class="text-[#667085] text-xs">{{ challenge?.participants?.length ?? '0' }} Participants</span>
  </div>
<div>
<button class="flex items-center gap-x-2 border rounded-full px-3 py-1.5 border-gray-100" >
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect x="0.5" y="0.5" width="15" height="15" rx="7.5" stroke="#00CC99"/>
  <g clip-path="url(#clip0_6586_1317)">
  <path d="M5.99528 11.9727C5.07359 11.5206 4.3318 10.7702 3.89035 9.84336C3.4489 8.91652 3.33371 7.86767 3.56349 6.86711C3.79327 5.86655 4.35453 4.97304 5.15613 4.33167C5.95772 3.6903 6.95259 3.33872 7.97918 3.33403C9.00578 3.32934 10.0038 3.67181 10.8112 4.30583C11.6187 4.93985 12.1881 5.82819 12.427 6.82661C12.6659 7.82503 12.5603 8.87489 12.1273 9.80573C11.6944 10.7366 10.9595 11.4937 10.0419 11.9542" stroke="#00CC99" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M9.73686 11.248L9.29443 12.2177L10.238 12.6688" stroke="#00CC99" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M8.29107 5.87072C8.56226 5.87072 8.78209 5.65088 8.78209 5.37969C8.78209 5.10851 8.56226 4.88867 8.29107 4.88867C8.01989 4.88867 7.80005 5.10851 7.80005 5.37969C7.80005 5.65088 8.01989 5.87072 8.29107 5.87072Z" stroke="#00CC99" stroke-width="0.8" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M7.04499 9.38323L6.39641 10.1734C6.08572 10.533 6.53419 10.8483 6.86297 10.537L7.4983 9.73674L7.70684 8.95427L8.04208 9.28954L8.26559 10.4467C8.41344 10.7686 8.89399 10.7509 8.87837 10.3369L8.54708 9.10052L8.07235 8.2783L8.33821 7.28607L8.63486 7.36554C8.63066 7.39944 8.63661 7.43382 8.65196 7.46434C8.6673 7.49486 8.69135 7.52015 8.72106 7.53701C8.82439 7.59219 9.56724 7.81972 9.56724 7.81972C10.0345 7.96323 10.0872 7.49285 9.70959 7.3833L9.09097 7.21743L8.78475 6.70745L8.28719 6.26176L7.52652 6.24414L6.45148 6.89319L6.05219 7.96025C5.96392 8.25845 6.39141 8.3361 6.50952 8.10414C6.5669 8.00234 6.85579 7.31485 6.85579 7.31485L7.4835 7.00341L7.17644 8.4109L7.04499 9.38323Z" stroke="#00CC99" stroke-width="0.8" stroke-linecap="round" stroke-linejoin="round"/>
  </g>
  <defs>
  <clipPath id="clip0_6586_1317">
  <rect width="10.6667" height="10.6667" fill="white" transform="translate(2.6665 2.66797)"/>
  </clipPath>
  </defs>
  </svg>
<p class="text-[#323232] text-xs font-medium">{{challenge?.tag ?? 'Nil'}}</p>
</button>
</div>
</div>
      <div class="grid grid-cols-4 gap-4 text-center mb-4 border border-gray-50 rounded py-3">
        <div>
          <p class="font-medium text-[#667085] text-xs">Tasks</p>
          <p class="text-[#1D1F2C] text-xs">{{challenge?.tasks?.length ?? 'Nil'}}</p>
        </div>
        <div>
          <p class="font-medium text-[#667085] text-xs">Created</p>
          <p class="text-[#1D1F2C] text-xs">{{ moment.utc(challenge.createdAt).format('DD-MMM-YY') || 'Nil' }}</p>
        </div>
        <div>
          <p class="font-medium text-[#667085] text-xs">Start Date</p>
          <p class="text-[#1D1F2C] text-xs">{{ moment.utc(challenge.startDate).format('DD-MMM-YY') || 'Nil' }}</p>
        </div>
        <div>
          <p class="font-medium text-[#667085] text-xs">Due Date</p>
          <p class="text-[#1D1F2C] text-xs">{{ moment.utc(challenge.endDate).format('DD-MMM-YY') || 'Nil' }}</p>
        </div>
      </div>
      <div class="mb-4">
        <h4 class="font-semibold mb-2 text-sm text-[#1D1F2C]">Admins</h4>
        <ul class="space-y-6">
          <li class="flex items-center mb-2">
            <img src="@/assets/img/active-admin.png" alt="Jay Hargudson" class="w-8 h-8 rounded-full mr-2" />
            <div class="flex-grow">
              <p class="text-sm">Jay Hargudson</p>
              <span class="text-white px-2 py-1 rounded-xl mt-1 text-xs bg-[#690571]">Creator</span>
            </div>
            <div class="flex items-center space-x-2">
              <button class="text-gray-500">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_6586_1267)">
                  <path d="M15.3333 2H4.66667C3.95942 2 3.28115 2.28095 2.78105 2.78105C2.28095 3.28115 2 3.95942 2 4.66667L2 12.6667C2 13.3739 2.28095 14.0522 2.78105 14.5523C3.28115 15.0524 3.95942 15.3333 4.66667 15.3333H6.6L9.56733 17.842C9.68771 17.9439 9.8403 17.9998 9.998 17.9998C10.1557 17.9998 10.3083 17.9439 10.4287 17.842L13.4 15.3333H15.3333C16.0406 15.3333 16.7189 15.0524 17.219 14.5523C17.719 14.0522 18 13.3739 18 12.6667V4.66667C18 3.95942 17.719 3.28115 17.219 2.78105C16.7189 2.28095 16.0406 2 15.3333 2V2ZM16.6667 12.6667C16.6667 13.0203 16.5262 13.3594 16.2761 13.6095C16.0261 13.8595 15.687 14 15.3333 14H13.4C13.0849 14.0001 12.7799 14.1118 12.5393 14.3153L10 16.46L7.462 14.3153C7.22104 14.1115 6.9156 13.9998 6.6 14H4.66667C4.31304 14 3.97391 13.8595 3.72386 13.6095C3.47381 13.3594 3.33333 13.0203 3.33333 12.6667V4.66667C3.33333 4.31304 3.47381 3.97391 3.72386 3.72386C3.97391 3.47381 4.31304 3.33333 4.66667 3.33333H15.3333C15.687 3.33333 16.0261 3.47381 16.2761 3.72386C16.5262 3.97391 16.6667 4.31304 16.6667 4.66667V12.6667Z" fill="#858D9D"/>
                  <path d="M6.66667 6.66732H10C10.1768 6.66732 10.3464 6.59708 10.4714 6.47205C10.5964 6.34703 10.6667 6.17746 10.6667 6.00065C10.6667 5.82384 10.5964 5.65427 10.4714 5.52925C10.3464 5.40422 10.1768 5.33398 10 5.33398H6.66667C6.48986 5.33398 6.32029 5.40422 6.19526 5.52925C6.07024 5.65427 6 5.82384 6 6.00065C6 6.17746 6.07024 6.34703 6.19526 6.47205C6.32029 6.59708 6.48986 6.66732 6.66667 6.66732Z" fill="#858D9D"/>
                  <path d="M13.3333 8H6.66667C6.48986 8 6.32029 8.07024 6.19526 8.19526C6.07024 8.32029 6 8.48985 6 8.66667C6 8.84348 6.07024 9.01304 6.19526 9.13807C6.32029 9.26309 6.48986 9.33333 6.66667 9.33333H13.3333C13.5101 9.33333 13.6797 9.26309 13.8047 9.13807C13.9298 9.01304 14 8.84348 14 8.66667C14 8.48985 13.9298 8.32029 13.8047 8.19526C13.6797 8.07024 13.5101 8 13.3333 8Z" fill="#858D9D"/>
                  <path d="M13.3333 10.666H6.66667C6.48986 10.666 6.32029 10.7363 6.19526 10.8613C6.07024 10.9863 6 11.1559 6 11.3327C6 11.5095 6.07024 11.6791 6.19526 11.8041C6.32029 11.9291 6.48986 11.9994 6.66667 11.9994H13.3333C13.5101 11.9994 13.6797 11.9291 13.8047 11.8041C13.9298 11.6791 14 11.5095 14 11.3327C14 11.1559 13.9298 10.9863 13.8047 10.8613C13.6797 10.7363 13.5101 10.666 13.3333 10.666Z" fill="#858D9D"/>
                  </g>
                  <defs>
                  <clipPath id="clip0_6586_1267">
                  <rect width="16" height="16" fill="white" transform="translate(2 2)"/>
                  </clipPath>
                  </defs>
                  </svg>
                  
              </button>
              <button class="text-gray-500">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12.6667 0.666016H3.33333C2.4496 0.667074 1.60237 1.0186 0.97748 1.6435C0.352588 2.26839 0.00105857 3.11562 0 3.99935L0 11.9993C0.00105857 12.8831 0.352588 13.7303 0.97748 14.3552C1.60237 14.9801 2.4496 15.3316 3.33333 15.3327H12.6667C13.5504 15.3316 14.3976 14.9801 15.0225 14.3552C15.6474 13.7303 15.9989 12.8831 16 11.9993V3.99935C15.9989 3.11562 15.6474 2.26839 15.0225 1.6435C14.3976 1.0186 13.5504 0.667074 12.6667 0.666016ZM3.33333 1.99935H12.6667C13.0659 2.00013 13.4557 2.12036 13.786 2.34455C14.1163 2.56874 14.3719 2.88665 14.52 3.25735L9.41467 8.36335C9.03895 8.73756 8.53028 8.94766 8 8.94766C7.46972 8.94766 6.96105 8.73756 6.58533 8.36335L1.48 3.25735C1.6281 2.88665 1.88374 2.56874 2.21403 2.34455C2.54432 2.12036 2.93414 2.00013 3.33333 1.99935ZM12.6667 13.9993H3.33333C2.8029 13.9993 2.29419 13.7886 1.91912 13.4136C1.54405 13.0385 1.33333 12.5298 1.33333 11.9993V4.99935L5.64267 9.30602C6.26842 9.93019 7.11617 10.2807 8 10.2807C8.88383 10.2807 9.73158 9.93019 10.3573 9.30602L14.6667 4.99935V11.9993C14.6667 12.5298 14.456 13.0385 14.0809 13.4136C13.7058 13.7886 13.1971 13.9993 12.6667 13.9993Z" fill="#858D9D"/>
                  </svg>
                  
              </button>
            </div>
          </li>
          <li class="flex items-center mb-2">
            <img  src="@/assets/img/member-avatar.png"  alt="Josh Adam" class="w-8 h-8 rounded-full mr-2" />
            <div class="flex-grow">
              <p class="text-sm">Josh Adam</p>
            </div>
            <div class="flex items-center space-x-2">
              <button class="text-gray-500">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_6586_1267)">
                  <path d="M15.3333 2H4.66667C3.95942 2 3.28115 2.28095 2.78105 2.78105C2.28095 3.28115 2 3.95942 2 4.66667L2 12.6667C2 13.3739 2.28095 14.0522 2.78105 14.5523C3.28115 15.0524 3.95942 15.3333 4.66667 15.3333H6.6L9.56733 17.842C9.68771 17.9439 9.8403 17.9998 9.998 17.9998C10.1557 17.9998 10.3083 17.9439 10.4287 17.842L13.4 15.3333H15.3333C16.0406 15.3333 16.7189 15.0524 17.219 14.5523C17.719 14.0522 18 13.3739 18 12.6667V4.66667C18 3.95942 17.719 3.28115 17.219 2.78105C16.7189 2.28095 16.0406 2 15.3333 2V2ZM16.6667 12.6667C16.6667 13.0203 16.5262 13.3594 16.2761 13.6095C16.0261 13.8595 15.687 14 15.3333 14H13.4C13.0849 14.0001 12.7799 14.1118 12.5393 14.3153L10 16.46L7.462 14.3153C7.22104 14.1115 6.9156 13.9998 6.6 14H4.66667C4.31304 14 3.97391 13.8595 3.72386 13.6095C3.47381 13.3594 3.33333 13.0203 3.33333 12.6667V4.66667C3.33333 4.31304 3.47381 3.97391 3.72386 3.72386C3.97391 3.47381 4.31304 3.33333 4.66667 3.33333H15.3333C15.687 3.33333 16.0261 3.47381 16.2761 3.72386C16.5262 3.97391 16.6667 4.31304 16.6667 4.66667V12.6667Z" fill="#858D9D"/>
                  <path d="M6.66667 6.66732H10C10.1768 6.66732 10.3464 6.59708 10.4714 6.47205C10.5964 6.34703 10.6667 6.17746 10.6667 6.00065C10.6667 5.82384 10.5964 5.65427 10.4714 5.52925C10.3464 5.40422 10.1768 5.33398 10 5.33398H6.66667C6.48986 5.33398 6.32029 5.40422 6.19526 5.52925C6.07024 5.65427 6 5.82384 6 6.00065C6 6.17746 6.07024 6.34703 6.19526 6.47205C6.32029 6.59708 6.48986 6.66732 6.66667 6.66732Z" fill="#858D9D"/>
                  <path d="M13.3333 8H6.66667C6.48986 8 6.32029 8.07024 6.19526 8.19526C6.07024 8.32029 6 8.48985 6 8.66667C6 8.84348 6.07024 9.01304 6.19526 9.13807C6.32029 9.26309 6.48986 9.33333 6.66667 9.33333H13.3333C13.5101 9.33333 13.6797 9.26309 13.8047 9.13807C13.9298 9.01304 14 8.84348 14 8.66667C14 8.48985 13.9298 8.32029 13.8047 8.19526C13.6797 8.07024 13.5101 8 13.3333 8Z" fill="#858D9D"/>
                  <path d="M13.3333 10.666H6.66667C6.48986 10.666 6.32029 10.7363 6.19526 10.8613C6.07024 10.9863 6 11.1559 6 11.3327C6 11.5095 6.07024 11.6791 6.19526 11.8041C6.32029 11.9291 6.48986 11.9994 6.66667 11.9994H13.3333C13.5101 11.9994 13.6797 11.9291 13.8047 11.8041C13.9298 11.6791 14 11.5095 14 11.3327C14 11.1559 13.9298 10.9863 13.8047 10.8613C13.6797 10.7363 13.5101 10.666 13.3333 10.666Z" fill="#858D9D"/>
                  </g>
                  <defs>
                  <clipPath id="clip0_6586_1267">
                  <rect width="16" height="16" fill="white" transform="translate(2 2)"/>
                  </clipPath>
                  </defs>
                  </svg>
                  
              </button>
              <button class="text-gray-500">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M12.6667 0.666016H3.33333C2.4496 0.667074 1.60237 1.0186 0.97748 1.6435C0.352588 2.26839 0.00105857 3.11562 0 3.99935L0 11.9993C0.00105857 12.8831 0.352588 13.7303 0.97748 14.3552C1.60237 14.9801 2.4496 15.3316 3.33333 15.3327H12.6667C13.5504 15.3316 14.3976 14.9801 15.0225 14.3552C15.6474 13.7303 15.9989 12.8831 16 11.9993V3.99935C15.9989 3.11562 15.6474 2.26839 15.0225 1.6435C14.3976 1.0186 13.5504 0.667074 12.6667 0.666016ZM3.33333 1.99935H12.6667C13.0659 2.00013 13.4557 2.12036 13.786 2.34455C14.1163 2.56874 14.3719 2.88665 14.52 3.25735L9.41467 8.36335C9.03895 8.73756 8.53028 8.94766 8 8.94766C7.46972 8.94766 6.96105 8.73756 6.58533 8.36335L1.48 3.25735C1.6281 2.88665 1.88374 2.56874 2.21403 2.34455C2.54432 2.12036 2.93414 2.00013 3.33333 1.99935ZM12.6667 13.9993H3.33333C2.8029 13.9993 2.29419 13.7886 1.91912 13.4136C1.54405 13.0385 1.33333 12.5298 1.33333 11.9993V4.99935L5.64267 9.30602C6.26842 9.93019 7.11617 10.2807 8 10.2807C8.88383 10.2807 9.73158 9.93019 10.3573 9.30602L14.6667 4.99935V11.9993C14.6667 12.5298 14.456 13.0385 14.0809 13.4136C13.7058 13.7886 13.1971 13.9993 12.6667 13.9993Z" fill="#858D9D"/>
                  </svg>
                  
              </button>
            </div>
          </li>
        </ul>
      </div>
      <div class="flex justify-between gap-x-3 pt-6">
        <button class="bg-white border border-gray-50 px-4 py-2 rounded-lg">
          <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21.3333 7.99935V6.93268C21.3333 5.43921 21.3333 4.69247 21.0427 4.12204C20.787 3.62028 20.3791 3.21233 19.8773 2.95666C19.3069 2.66602 18.5601 2.66602 17.0667 2.66602H14.9333C13.4399 2.66602 12.6931 2.66602 12.1227 2.95666C11.6209 3.21233 11.213 3.62028 10.9573 4.12204C10.6667 4.69247 10.6667 5.43921 10.6667 6.93268V7.99935M13.3333 15.3327V21.9993M18.6667 15.3327V21.9993M4 7.99935H28M25.3333 7.99935V22.9327C25.3333 25.1729 25.3333 26.293 24.8974 27.1486C24.5139 27.9013 23.9019 28.5132 23.1493 28.8967C22.2936 29.3327 21.1735 29.3327 18.9333 29.3327H13.0667C10.8265 29.3327 9.70635 29.3327 8.8507 28.8967C8.09806 28.5132 7.48613 27.9013 7.10264 27.1486C6.66667 26.293 6.66667 25.1729 6.66667 22.9327V7.99935" stroke="#990000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </button>
       <div class="w-full">
        <button @click="handleEditChallenge" class="bg-[#690571] text-white px-4 py-3 text-sm rounded-lg w-full">Edit challenge</button>
       </div>
      </div>
    </div>
  </template>
  
  <style  scoped>
  .form-checkbox {
    accent-color: #a855f7; /* Tailwind CSS purple-500 */
  }
  </style>
  

  <script setup lang="ts">
      import moment from "moment";
 const props = defineProps({
  challenge: {
    type: Object,
    default: () => {}
  }
 })

 const emit = defineEmits(['editChallenge'])

 const router = useRouter()

 const handleEditChallenge = () => {
  emit('editChallenge', props.challenge)
  const currentUrl = new URL(window.location.href)
  currentUrl.searchParams.set('id', props.challenge.id)
  window.history.pushState(null, '', currentUrl.toString())
}
  </script>
  